{% extends "base.html" %}

{% load staticfiles %}

{% block base_body %}
  <h2>Regions</h2>
  <p><a href="/pages/add_region/">Add a New Region</a></p>
  {% if region_list %}
    <ul>
    {% for region in region_list %}
        <li>
          <a href="{% url 'pages:region' region.id %}">{{ region.name }}</a>
          <ul>
            {% for place in place_list %}
              {% if place.region == region %}
                <li><a href="{% url 'pages:place' place.id %}" title="">{{ place.name }}</a>
                  {% if building.place == place %}
                  <p>Buildings</p>
                  {% endif %}
                  <ul>
                    {% for building in building_list %}
                      {% if building.place == place %}
                        <li><a href="{% url 'pages:building' building.id %}">{{ building.name }}</a>
                          <ul>
                            {% for character in character_list %}
                              {% if character.building == building %}
                                <li><a href="{% url 'pages:character' character.id %}">{{ character.name }}</a></li>
                              {% endif %}
                            {% endfor %}
                          </ul>
                        </li>
                      {% endif %}
                    {% endfor %}
                  </ul>
                  <ul>
                    {% for character in character_list %}
                      {% if character.place == place and character.building == NULL %}
                        <li><a href="{% url 'pages:character' character.id %}">{{ character.name }}</a></li>
                      {% endif %}
                    {% endfor %}
                  </ul>
                </li>
              {% endif %}
            {% endfor %}
          </ul>
        </li>
    {% endfor %}
    </ul>
  {% else %}
      <p>No regions are available.</p>
  {% endif %}
{% endblock base_body %}
